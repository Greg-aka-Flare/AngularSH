
<section 
id="for_work_box" 
class="category_bucket blue"
>
<div 
    class="course-box"
    *ngIf="courses?.length"
>
    <article 
        class="card-box" 
        *ngFor="let course of courses; let i = index"  
        [@state]="course?.state"
    >
        <div class="img-ctn">
            <div class="price" *ngIf="course.semesters[0].amount != '0.00'">
                ${{ course?.semesters[0]?.amount }}
              </div>
              <div class="price free" *ngIf="course.semesters[0].amount == '0.00'">
                  Free
              </div>

            <figure>
                    <a [routerLink]="['/courses', course.id]"><img *ngIf="course?.semesters[0]?.primary_img" src="../../assets/img/courses/{{ course?.semesters[0]?.primary_img }}" alt="" title="">
                    <img *ngIf="!course?.semesters[0]?.primary_img" src="../../assets/img/course-picture.jpg" alt="" title=""></a>
            </figure>
        </div><!-- .img-ctn -->

        <div class="card-info">
            <div class="group_info">
                <span class="group_rating" *ngIf="course?.rating">
                    <star-rating-comp 
                        [starType]="'svg'" 
                        [showHalfStars]="true"
                        [readOnly]="true"
                        rating="{{ course?.rating || 0 }}"
                    ></star-rating-comp>
                </span>

                <span class="group_name">
                  {{ course?.categories[0]?.name }}
                </span>
            </div><!-- .group_info-->

            <h3>
                <a [routerLink]="['/courses', course?.id]">{{ course?.title | truncate : 70 : '...' }}</a>
            </h3>
            <div class="location-wrap">
            <p class="location">
                <i class="fa fa-map-marker" aria-hidden="true"></i> 
                <a href="javascript:void(0);">{{ course?.semesters[0]?.addresses[0]?.city }}, {{ course?.semesters[0]?.addresses[0]?.state }}</a></p><!-- .location -->

            <p class="date">
                <i class="fa fa-calendar" aria-hidden="true"></i> 
                <time class="date_stamp" title="{{ course?.semesters[0]?.start_date | datex: 'LL' }}">{{ course?.semesters[0]?.start_date | datex: 'LL' }}</time>
            </p><!-- .date -->
            <!--<a class="course-cta" [routerLink]="['/courses', course.id]" aria-roledescription="button">View Course</a>-->
            </div>
        </div><!-- .card-info -->
        <div class="like_action">
            <div>
                <a 
                class="hollow-icon thumbDown" 
                (click)="onDislike(course, i)"
                [class.dislike]="course?.state == 'dislike'"
            >
            <i class="fa fa-times"></i>
            </a></div>
            <div>
            <a 
                class="hollow-icon thumbUp" 
                (click)="onLike(course, i)"
                [class.like]="course?.state == 'like'"
            >
            <i class="fa fa-heart-o"></i>
            <i class="fa fa-heart"></i>
            </a></div>
        </div>
    </article>
</div>

<section 
    class="suggest-course"
    *ngIf="courses?.length === 0"
    [@form]
>
    <form 
        [formGroup]="suggestForm" 
        (ngSubmit)="onSuggest()"
        *ngIf="!suggestComplete"
    >
        <h1>Suggest Course:</h1>

        <p>We're sorry we don't have anymore courses to recommend. Please tell us about some courses you would like to see:</p>

        <textarea
            id="suggest"
            placeholder="What would you like to see?" 
            formControlName="suggest" 
        ></textarea>

        <span 
            class="help-block"
            *ngIf="!suggestForm.get('suggest').valid && suggestForm.get('suggest').touched"
        >
            Please tell us more! (100 characters min)
        </span><!-- .help-block -->

        <button [disabled]="!suggestForm.valid">Submit</button>
    </form>

    <section class="suggest-complete" *ngIf="suggestComplete">
        <h1>Suggestion sent!</h1>

        <p>Thank you for submitting your suggestion!</p>
    </section><!-- .suggest-complete -->
</section><!-- #All Courses -->
