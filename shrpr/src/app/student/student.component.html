<app-template>
  <article *ngIf="students">
  <section id="profile-header">
      <div class="profile-picture">
          <a class="profile-upload" href="javascript:void(0)"><input type="file" (change)="onChange($event)"/><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
        <img *ngIf="!students?.profile_img" src="../../assets/img/students-picture.png" alt="" title="">
        <img *ngIf="students?.profile_img" src="../../assets/img/{{students?.profile_img}}" alt="" title="">

        <div class="social-icon">
            <a href="javascript:void(0);"><i class="fa fa-facebook-square" aria-hidden="true"></i></a>
            <a href="javascript:void(0);"><i class="fa fa-twitter-square" aria-hidden="true"></i></a>
            <a href="javascript:void(0);"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a>
        </div>
      </div>
      <div><h2><app-inline-edit [(ngModel)]="students.name" label="students.name" [required]="true" type="text">
      </app-inline-edit></h2>
      <i class="fa fa-envelope-o" aria-hidden="true"></i> <a href="mailto:{{students?.email}}">{{students?.email}}</a><br>
      <span *ngIf="details?.url.length > 0"><i class="fa fa-globe" aria-hidden="true"></i> <a href="{{details?.url}}" target="_blank">{{details?.url}}</a></span> 
        <i aria-hidden="true" class="fa fa-map-marker"></i>  {{ students?.addresses[0]?.city }}, {{ students?.addresses[0]?.state }}
        <!--<div class="rating"><star-rating-comp [starType]="'svg'" [rating]="3" [readOnly]="true"></star-rating-comp> |  <a href="/student/{{students?.id}}#reviews">33 reviews</a></div>-->
      </div>
      </section><!-- #profile header -->
    <tabs *ngIf="width < 768" >
      <tab tabTitle="Courses">
        <h3>Start your journey</h3>
        <article class="card-box" *ngFor="let coursed of students?.courses">
              <div class="img-ctn">
                  <figure>
                      <a [routerLink]="['/course', coursed?.id]"><img *ngIf="coursed?.semesters[0]?.primary_img" src="../../assets/img/courses/{{ coursed?.semesters[0]?.primary_img }}" alt="" title="">
                      <img *ngIf="!coursed?.semesters[0]?.primary_img" src="../../assets/img/course-picture.jpg" alt="" title=""></a>
                  </figure>
                  <h3>{{coursed?.title}}</h3>
              </div>
              <div class="card-info">
                <div class="group_info"><span class="group_rating"><star-rating-comp [starType]="'svg'" [rating]="coursed?.rating" [showHalfStars]="true" [readOnly]="true"></star-rating-comp></span></div>
                <p class="with-box"><span>With</span> {{coursed?.instructor}}</p>
                <a [routerLink]="['/course', coursed?.id]"  class="page-cta" aria-roledescription="button">View Course</a>
              </div>
          </article>
      </tab>
      <tab tabTitle="ABOUT">
          <div class="contact_box">
        <p>{{details?.description}}</p>
        </div>
      </tab>
      <tab tabTitle="CONTACT">
        <div class="contact_box">
            <address *ngFor="let address of students?.addresses">
                <div *ngIf="!isEdit"><strong *ngIf="students?.addresses > 1">{{ address?.type }}</strong><br>
                {{ address?.streetAddress }}<br>
                {{ address?.city }}, {{ address?.state }}, {{ address?.zip }}<br>
                {{ address?.country }}<br>
                <br>
                Phone: <a href="tel:{{ students?.phone }}">{{ students?.phone }}</a><br>
                Email: <a href="mailto:{{ students?.email }}">{{ students?.email }}</a>
                <a href="javascript:void(0)" (click)="isEdit=true" class="exit-btn"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
                </div>
                <div *ngIf="isEdit" (keydown.enter)="isEdit=false" class="edit-form">
                
                <label>Type:</label>
                    <input type="text" formControlName="addressType" [(ngModel)]="address.type"/><br>
                 <label>Street Address:</label>
                    <input type="text" formControlName="addressStreet"  [(ngModel)]="address.streetAddress"/><br>
                  <label>City:</label>
                    <input type="text" formControlName="addressCity" [(ngModel)]="address.city"/>
                    <br>
                  <label>State:</label>
                    <input type="text" formControlName="addressState" [(ngModel)]="address.state"/>
                    <br>
                  <label>Zip:</label>
                    <input type="text" formControlName="addressZip" [(ngModel)]="address.zip"/>
                    <br>
                  <label>Country:</label>
                    <input type="text" formControlName="addressCountry" [(ngModel)]="address.country"/>
                    <br>
                  <label>Phone:</label>
                    <input type="text" formControlName="addressPhone" [(ngModel)]="students.phone"/><br>
                  <label>Email:</label>
                    <input type="text" formControlName="addressEmail" [(ngModel)]="students.email"/>

                  <br>
                  <button type="submit" (click)="isEdit=false" class="btn btn-primary"><i class="fa fa-check" aria-hidden="true"></i></button>
                  <button class="btn btn-default" (click)="isEdit=false"><i class="fa fa-times-circle" aria-hidden="true"></i></button>
                
                </div>
                </address> </div>
      </tab>
    </tabs><!-- #Tab -->
      <!-- desktop view -->
      <section *ngIf="width > 767" id="desktopcourses">
        <h2>Courses</h2>
        <h3>Start your journey</h3>
          <article class="card-box" *ngFor="let coursed of students?.courses">
                <div class="img-ctn">
                    <!--<div class="price">${{coursed.id}}</div>-->
                    <figure>
                        <a [routerLink]="['/course', coursed?.id]"><img *ngIf="coursed?.semesters[0]?.primary_img" src="../../assets/img/courses/{{ coursed?.semesters[0]?.primary_img }}" alt="" title="">
                        <img *ngIf="!coursed?.semesters[0]?.primary_img" src="../../assets/img/course-picture.jpg" alt="" title=""></a>
                    </figure>
                    <h3>{{coursed?.title}}</h3>
                </div>
                <div class="card-info">
                  <!--<div class="group_info"><span class="group_rating"><star-rating-comp [starType]="'svg'" [rating]="{{coursed.rating}}" [showHalfStars]="true" [readOnly]="true"></star-rating-comp></span></div>-->
                  <!--<p class="date">
                    <i class="fa fa-calendar" aria-hidden="true"></i> 
                      <span class="date_stamp">{{ card.semesters[0].start_date | date: 'MM/dd/yyyy' }}</span>
                  </p>-->
                  <p class="with-box"><span>With</span> {{coursed?.instructor}}</p>
                  <a [routerLink]="['/course', coursed?.id]"  class="page-cta">View Course</a>
                </div>
            </article>
        <h2>ABOUT</h2>
        <p>{{details?.description}}</p>
        <h2>CONTACT</h2>
        <div class="contact_box">
            <a href="javascript:void(0)" (click)="isEdit=true" class=""><i class="fa fa-pencil-square-o" aria-hidden="true"></i></a>
            <address *ngFor="let address of students?.addresses">
                <div *ngIf="!isEdit"><strong *ngIf="students?.addresses > 1">{{ address?.type }}</strong><br>
                {{ address?.streetAddress }}<br>
                {{ address?.city }}, {{ address?.state }}, {{ address?.zip }}<br>
                {{ address?.country }}<br>
                <br>
                Phone: <a href="tel:{{ students?.phone }}">{{ students?.phone }}</a><br>
                Email: <a href="mailto:{{ students?.email }}">{{ students?.email }}</a>
                </div>
                </address>
                <div  class="edit-form">
                    <form id="studentAddress" [formGroup]="studentAddressForm" (ngSubmit)="updateAddress()">  
                    <label>Type:</label>
                        <input type="text" formControlName="addressType" id="addressType"/><br>
                        <control-messages [control]="studentAddressForm.controls.addressType"></control-messages>
                     <label>Street Address:</label>
                        <input type="text" formControlName="addressStreet" id="addressStreet"/>
                        <control-messages [control]="studentAddressForm.controls.addressStreet"></control-messages>
                        <br>
                      <label>City:</label>
                        <input type="text" formControlName="addressCity" id="addressCity"/>
                        <control-messages [control]="studentAddressForm.controls.addressCity"></control-messages>
                        <br>
                      <label>State:</label>
                        <input type="text" formControlName="addressState" id="addressState"/>
                        <control-messages [control]="studentAddressForm.controls.addressState"></control-messages>
                        <br>
                      <label>Zip:</label>
                        <input type="text" formControlName="addressZip" id="addressZip"/>
                        <control-messages [control]="studentAddressForm.controls.addressZip"></control-messages>
                        <br>
                      <label>Country:</label>
                        <input type="text" formControlName="addressCountry" id="addressCountry"/>
                        <control-messages [control]="studentAddressForm.controls.addressCountry"></control-messages>
                        <br>
                      <label>Phone:</label>
                        <input type="text" formControlName="addressPhone" id="addressPhone"/><br>
                        <control-messages [control]="studentAddressForm.controls.addressPhone"></control-messages>
                      <label>Email:</label>
                        <input type="text" formControlName="addressEmail" id="addressEmail"/>
                        <control-messages [control]="studentAddressForm.controls.addressEmail"></control-messages>
                      <br>
                      <button type="submit" class="btn btn-primary"><i class="fa fa-check" aria-hidden="true"></i></button>
                      <button class="btn btn-default" (click)="isEdit=false"><i class="fa fa-times-circle" aria-hidden="true"></i></button>
                    </form>
                    </div>
          </div>
      </section>
      <!-- desktop view End -->
     <!-- #reviews
  <section id="reviews">
      <div class="reviews-rating"><star-rating-comp [starType]="'svg'" [rating]="reviewRatingGross" [showHalfStars]="true" [readOnly]="true"></star-rating-comp> {{reviewRatingGross | number : '1.1-1'}} | {{reviewCount}} reviews | <a href="javascript:void(0);" (click)="reviewshowHide = !reviewshowHide">Add Your Review</a></div>
      <app-addreview *ngIf="reviewshowHide"></app-addreview>
      <div *ngIf="reviewCount >= 1">
          <dl class="review_items" *ngFor="let review of ratingData" >
      <dt><img src="../../assets/img/reviews-profile.jpg" alt="" title="">User id: {{review.user_id}}</dt>
      <dd><h2>{{review.title}} <span class="review_items_rating">Rating: {{review.rating}} | <star-rating-comp class="review_star" [starType]="'svg'" [rating]="review.rating" [showHalfStars]="true" [readOnly]="true"></star-rating-comp></span></h2>
      <p>{{review.comment}}</p></dd>
    </dl>
  </div>
  <div *ngIf="reviewCount < 1">No reviews yet. Be the first to write a review.</div>
    <p class="seeall-link"><!--<button class="show-more" (click)="getData()" [disabled]="counter>=ratingData.length">see all related reviews</button><a href="javascript:void(0);">see all related reviews</a>--><!--</p>
    
  </section>#reviews -->
    </article>
</app-template>